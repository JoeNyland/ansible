---
debian_backports_additional_components:
  - contrib
off_site_backup_tasks:
  - source: syncoid@server:bpool
    destination: off-site/bpool
    hour: 1
    minute: 0
  - source: syncoid@server:rpool
    destination: off-site/rpool
    send_options:
      # For encrypted datasets, send data exactly as it exists on disk.
      # This allows backups to be taken even if encryption keys are not currently loaded.
      - w
    hour: 1
    minute: 15
  - source: syncoid@server:tank
    destination: off-site/tank
    send_options:
      # For encrypted datasets, send data exactly as it exists on disk.
      # This allows backups to be taken even if encryption keys are not currently loaded.
      - w
    hour: 1
    minute: 30
wireguard_interfaces:
  wg0:
    address: 10.8.0.104/24
    post_up:
      - wg set %i private-key /etc/wireguard/private.key
    dns:
      - 10.8.0.1
      - lan.home.joe.nyland.io
      - home.joe.nyland.io
    peers:
      - name: Router
        public_key: /0DBGkQ33S1DCK9mz2BG73pA0mLz1oIi0UxY62qQRXA=
        allowed_ips: 10.8.0.0/24, 10.10.0.0/16
        endpoint: home.joe.nyland.io:51820
        keep_alive: 25
sanoid_templates:
  bpool:
    autosnap: 'no'
    autoprune: 'yes'
    frequently: 0
    hourly: 0
    daily: 30
    monthly: 3
    yearly: 0
  rpool:
    autosnap: 'no'
    autoprune: 'yes'
    frequently: 0
    hourly: 0
    daily: 30
    monthly: 3
    yearly: 0
  tank:
    autosnap: 'no'
    autoprune: 'yes'
    frequently: 0
    hourly: 0
    daily: 30
    monthly: 3
    yearly: 0
sanoid_policies:
  off-site/bpool:
    use_template: bpool
    recursive: 'yes'
  off-site/rpool:
    use_template: rpool
    recursive: 'yes'
  off-site/enc/tank:
    use_template: tank
    recursive: 'yes'
syncoid_user_destination_host: backup-pi
syncoid_user_source_host: server
zfs_datasets:
  off-site:
    mountpoint: 'none'
    readonly: 'on'
  off-site/bpool:
  off-site/rpool:
  off-site/tank:
